{"dependencies":[{"name":"expo-firebase-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":61,"index":61}}],"key":"/YpfLPh414nnyqAXbf0d5UYQs5Q=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":62},"end":{"line":2,"column":47,"index":109}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":110},"end":{"line":3,"column":31,"index":141}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./WebView","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":142},"end":{"line":4,"column":36,"index":178}}],"key":"SOh0jRtsFXcvb0HLQIrGwBm6Au4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return FirebaseRecaptcha;\n    }\n  });\n  var _expoFirebaseCore = require(_dependencyMap[0], \"expo-firebase-core\");\n  var _expoModulesCore = require(_dependencyMap[1], \"expo-modules-core\");\n  var _react = require(_dependencyMap[2], \"react\");\n  var React = _interopNamespace(_react);\n  var _WebView = require(_dependencyMap[3], \"./WebView\");\n  function getWebviewSource(firebaseConfig, firebaseVersion, appVerificationDisabledForTesting = false, languageCode, invisible) {\n    firebaseVersion = firebaseVersion || '8.0.0';\n    return {\n      baseUrl: `https://${firebaseConfig.authDomain}`,\n      html: `\n<!DOCTYPE html><html>\n<head>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n  <meta name=\"HandheldFriendly\" content=\"true\">\n  <script src=\"https://www.gstatic.com/firebasejs/${firebaseVersion}/firebase-app.js\"></script>\n  <script src=\"https://www.gstatic.com/firebasejs/${firebaseVersion}/firebase-auth.js\"></script>\n  <script type=\"text/javascript\">firebase.initializeApp(${JSON.stringify(firebaseConfig)});</script>\n  <style>\n    html, body {\n      height: 100%;\n      ${invisible ? `padding: 0; margin: 0;` : ``}\n    }\n    #recaptcha-btn {\n      width: 100%;\n      height: 100%;\n      padding: 0;\n      margin: 0;\n      border: 0;\n      user-select: none;\n      -webkit-user-select: none;\n    }\n  </style>\n</head>\n<body>\n  ${invisible ? `<button id=\"recaptcha-btn\" type=\"button\" onclick=\"onClickButton()\">Confirm reCAPTCHA</button>` : `<div id=\"recaptcha-cont\" class=\"g-recaptcha\"></div>`}\n  <script>\n    var fullChallengeTimer;\n    function onVerify(token) {\n      if (fullChallengeTimer) {\n        clearInterval(fullChallengeTimer);\n        fullChallengeTimer = undefined;\n      }\n      window.ReactNativeWebView.postMessage(JSON.stringify({\n        type: 'verify',\n        token: token\n      }));\n    }\n    function onLoad() {\n      window.ReactNativeWebView.postMessage(JSON.stringify({\n        type: 'load'\n      }));\n      firebase.auth().settings.appVerificationDisabledForTesting = ${appVerificationDisabledForTesting};\n      ${languageCode ? `firebase.auth().languageCode = '${languageCode}';` : ''}\n      window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\"${invisible ? 'recaptcha-btn' : 'recaptcha-cont'}\", {\n        size: \"${invisible ? 'invisible' : 'normal'}\",\n        callback: onVerify\n      });\n      window.recaptchaVerifier.render();\n    }\n    function onError() {\n      window.ReactNativeWebView.postMessage(JSON.stringify({\n        type: 'error'\n      }));\n    }\n    function onClickButton() {\n      if (!fullChallengeTimer) {\n        fullChallengeTimer = setInterval(function() {\n          var iframes = document.getElementsByTagName(\"iframe\");\n          var isFullChallenge = false;\n          for (i = 0; i < iframes.length; i++) {\n            var parentWindow = iframes[i].parentNode ? iframes[i].parentNode.parentNode : undefined;\n            var isHidden = parentWindow && parentWindow.style.opacity == 0;\n            isFullChallenge = isFullChallenge || (\n              !isHidden && \n              ((iframes[i].title === 'recaptcha challenge') ||\n               (iframes[i].src.indexOf('google.com/recaptcha/api2/bframe') >= 0)));\n          }\n          if (isFullChallenge) {\n            clearInterval(fullChallengeTimer);\n            fullChallengeTimer = undefined;\n            window.ReactNativeWebView.postMessage(JSON.stringify({\n              type: 'fullChallenge'\n            }));  \n          }\n        }, 100);\n      }\n    }\n    window.addEventListener('message', function(event) {\n      if (event.data.verify) {\n        document.getElementById('recaptcha-btn').click();\n      }\n    });\n  </script>\n  <script src=\"https://www.google.com/recaptcha/api.js?onload=onLoad&render=explicit&hl=${languageCode ?? ''}\" onerror=\"onError()\"></script>\n</body></html>`\n    };\n  }\n  function validateFirebaseConfig(firebaseConfig) {\n    if (!firebaseConfig) {\n      throw new _expoModulesCore.CodedError('ERR_FIREBASE_RECAPTCHA_CONFIG', `Missing firebase web configuration. Please set the \"expo.web.config.firebase\" field in \"app.json\" or use the \"firebaseConfig\" prop.`);\n    }\n    const {\n      authDomain\n    } = firebaseConfig;\n    if (!authDomain) {\n      throw new _expoModulesCore.CodedError('ERR_FIREBASE_RECAPTCHA_CONFIG', `Missing \"authDomain\" in firebase web configuration.`);\n    }\n  }\n  function FirebaseRecaptcha(props) {\n    const {\n      firebaseConfig,\n      firebaseVersion,\n      appVerificationDisabledForTesting,\n      languageCode,\n      onVerify,\n      onLoad,\n      onError,\n      onFullChallenge,\n      invisible,\n      verify,\n      ...otherProps\n    } = props;\n    const webview = React.useRef(null);\n    const [loaded, setLoaded] = React.useState(false);\n    React.useEffect(() => {\n      if (webview.current && loaded && verify) {\n        // @ts-ignore: Object is possibly null\n        webview.current.injectJavaScript(`\n    (function(){\n      window.dispatchEvent(new MessageEvent('message', {data: { verify: true }}));\n    })();\n    true;\n    `);\n      }\n      return () => {};\n    }, [webview, verify, loaded]);\n    validateFirebaseConfig(firebaseConfig);\n    if (!firebaseConfig) {\n      console.error(`FirebaseRecaptcha: Missing firebase web configuration. Please set the \"expo.web.config.firebase\" field in \"app.json\" or use the \"firebaseConfig\" prop.`);\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(_WebView.WebView, {\n      ref: webview,\n      javaScriptEnabled: true,\n      automaticallyAdjustContentInsets: true,\n      scalesPageToFit: true,\n      mixedContentMode: \"always\",\n      source: getWebviewSource(firebaseConfig, firebaseVersion, appVerificationDisabledForTesting, languageCode, invisible),\n      onError: onError,\n      onMessage: event => {\n        const data = JSON.parse(event.nativeEvent.data);\n        switch (data.type) {\n          case 'load':\n            if (onLoad) {\n              setLoaded(true);\n              onLoad();\n            }\n            break;\n          case 'error':\n            if (onError) {\n              onError();\n            }\n            break;\n          case 'verify':\n            onVerify(data.token);\n            break;\n          case 'fullChallenge':\n            if (onFullChallenge) {\n              onFullChallenge();\n            }\n            break;\n        }\n      },\n      ...otherProps\n    });\n  }\n  FirebaseRecaptcha.defaultProps = {\n    firebaseConfig: _expoFirebaseCore.DEFAULT_WEB_APP_OPTIONS\n  };\n});","lineCount":208,"map":[[22,2,109,15,"Object"],[22,8,109,15],[22,9,109,15,"defineProperty"],[22,23,109,15],[22,24,109,15,"exports"],[22,31,109,15],[23,4,109,15,"enumerable"],[23,14,109,15],[24,4,109,15,"get"],[24,7,109,15],[24,18,109,15,"get"],[24,19,109,15],[25,6,109,15],[25,13,109,15,"FirebaseRecaptcha"],[25,30,109,15],[26,4,109,15],[27,2,109,15],[28,2,1,0],[28,6,1,0,"_expoFirebaseCore"],[28,23,1,0],[28,26,1,0,"require"],[28,33,1,0],[28,34,1,0,"_dependencyMap"],[28,48,1,0],[29,2,2,0],[29,6,2,0,"_expoModulesCore"],[29,22,2,0],[29,25,2,0,"require"],[29,32,2,0],[29,33,2,0,"_dependencyMap"],[29,47,2,0],[30,2,3,0],[30,6,3,0,"_react"],[30,12,3,0],[30,15,3,0,"require"],[30,22,3,0],[30,23,3,0,"_dependencyMap"],[30,37,3,0],[31,2,3,0],[31,6,3,0,"React"],[31,11,3,0],[31,14,3,0,"_interopNamespace"],[31,31,3,0],[31,32,3,0,"_react"],[31,38,3,0],[32,2,4,0],[32,6,4,0,"_WebView"],[32,14,4,0],[32,17,4,0,"require"],[32,24,4,0],[32,25,4,0,"_dependencyMap"],[32,39,4,0],[33,2,5,0],[33,11,5,9,"getWebviewSource"],[33,27,5,25,"getWebviewSource"],[33,28,5,26,"firebaseConfig"],[33,42,5,40],[33,44,5,42,"firebaseVersion"],[33,59,5,57],[33,61,5,59,"appVerificationDisabledForTesting"],[33,94,5,92],[33,97,5,95],[33,102,5,100],[33,104,5,102,"languageCode"],[33,116,5,114],[33,118,5,116,"invisible"],[33,127,5,125],[33,129,5,127],[34,4,6,4,"firebaseVersion"],[34,19,6,19],[34,22,6,22,"firebaseVersion"],[34,37,6,37],[34,41,6,41],[34,48,6,48],[35,4,7,4],[35,11,7,11],[36,6,8,8,"baseUrl"],[36,13,8,15],[36,15,8,17],[36,26,8,28,"firebaseConfig"],[36,40,8,42],[36,41,8,43,"authDomain"],[36,51,8,53],[36,53,8,55],[37,6,9,8,"html"],[37,10,9,12],[37,12,9,14],[38,0,10,0],[39,0,11,0],[40,0,12,0],[41,0,13,0],[42,0,14,0],[43,0,15,0],[43,52,15,52,"firebaseVersion"],[43,67,15,67],[44,0,16,0],[44,52,16,52,"firebaseVersion"],[44,67,16,67],[45,0,17,0],[45,58,17,58,"JSON"],[45,62,17,62],[45,63,17,63,"stringify"],[45,72,17,72],[45,73,17,73,"firebaseConfig"],[45,87,17,87],[45,88,17,88],[46,0,18,0],[47,0,19,0],[48,0,20,0],[49,0,21,0],[49,8,21,8,"invisible"],[49,17,21,17],[49,20,21,20],[49,44,21,44],[49,47,21,47],[49,49,21,49],[50,0,22,0],[51,0,23,0],[52,0,24,0],[53,0,25,0],[54,0,26,0],[55,0,27,0],[56,0,28,0],[57,0,29,0],[58,0,30,0],[59,0,31,0],[60,0,32,0],[61,0,33,0],[62,0,34,0],[63,0,35,0],[63,4,35,4,"invisible"],[63,13,35,13],[63,16,36,14],[63,111,36,109],[63,114,37,14],[63,167,37,67],[64,0,38,0],[65,0,39,0],[66,0,40,0],[67,0,41,0],[68,0,42,0],[69,0,43,0],[70,0,44,0],[71,0,45,0],[72,0,46,0],[73,0,47,0],[74,0,48,0],[75,0,49,0],[76,0,50,0],[77,0,51,0],[78,0,52,0],[79,0,53,0],[80,0,54,0],[80,69,54,69,"appVerificationDisabledForTesting"],[80,102,54,102],[81,0,55,0],[81,8,55,8,"languageCode"],[81,20,55,20],[81,23,55,23],[81,58,55,58,"languageCode"],[81,70,55,70],[81,74,55,74],[81,77,55,77],[81,79,55,79],[82,0,56,0],[82,72,56,72,"invisible"],[82,81,56,81],[82,84,56,84],[82,99,56,99],[82,102,56,102],[82,118,56,118],[83,0,57,0],[83,17,57,17,"invisible"],[83,26,57,26],[83,29,57,29],[83,40,57,40],[83,43,57,43],[83,51,57,51],[84,0,58,0],[85,0,59,0],[86,0,60,0],[87,0,61,0],[88,0,62,0],[89,0,63,0],[90,0,64,0],[91,0,65,0],[92,0,66,0],[93,0,67,0],[94,0,68,0],[95,0,69,0],[96,0,70,0],[97,0,71,0],[98,0,72,0],[99,0,73,0],[100,0,74,0],[101,0,75,0],[102,0,76,0],[103,0,77,0],[104,0,78,0],[105,0,79,0],[106,0,80,0],[107,0,81,0],[108,0,82,0],[109,0,83,0],[110,0,84,0],[111,0,85,0],[112,0,86,0],[113,0,87,0],[114,0,88,0],[115,0,89,0],[116,0,90,0],[117,0,91,0],[118,0,92,0],[119,0,93,0],[120,0,94,0],[121,0,95,0],[122,0,96,0],[122,90,96,90,"languageCode"],[122,102,96,102],[122,106,96,106],[122,108,96,108],[123,0,97,0],[124,4,98,4],[124,5,98,5],[125,2,99,0],[126,2,100,0],[126,11,100,9,"validateFirebaseConfig"],[126,33,100,31,"validateFirebaseConfig"],[126,34,100,32,"firebaseConfig"],[126,48,100,46],[126,50,100,48],[127,4,101,4],[127,8,101,8],[127,9,101,9,"firebaseConfig"],[127,23,101,23],[127,25,101,25],[128,6,102,8],[128,12,102,14],[128,16,102,18,"CodedError"],[128,32,102,28],[128,33,102,28,"CodedError"],[128,43,102,28],[128,44,102,29],[128,75,102,60],[128,77,102,62],[128,210,102,195],[128,211,102,196],[129,4,103,4],[130,4,104,4],[130,10,104,10],[131,6,104,12,"authDomain"],[132,4,104,23],[132,5,104,24],[132,8,104,27,"firebaseConfig"],[132,22,104,41],[133,4,105,4],[133,8,105,8],[133,9,105,9,"authDomain"],[133,19,105,19],[133,21,105,21],[134,6,106,8],[134,12,106,14],[134,16,106,18,"CodedError"],[134,32,106,28],[134,33,106,28,"CodedError"],[134,43,106,28],[134,44,106,29],[134,75,106,60],[134,77,106,62],[134,130,106,115],[134,131,106,116],[135,4,107,4],[136,2,108,0],[137,2,109,15],[137,11,109,24,"FirebaseRecaptcha"],[137,28,109,41,"FirebaseRecaptcha"],[137,29,109,42,"props"],[137,34,109,47],[137,36,109,49],[138,4,110,4],[138,10,110,10],[139,6,110,12,"firebaseConfig"],[139,20,110,26],[140,6,110,28,"firebaseVersion"],[140,21,110,43],[141,6,110,45,"appVerificationDisabledForTesting"],[141,39,110,78],[142,6,110,80,"languageCode"],[142,18,110,92],[143,6,110,94,"onVerify"],[143,14,110,102],[144,6,110,104,"onLoad"],[144,12,110,110],[145,6,110,112,"onError"],[145,13,110,119],[146,6,110,121,"onFullChallenge"],[146,21,110,136],[147,6,110,138,"invisible"],[147,15,110,147],[148,6,110,149,"verify"],[148,12,110,155],[149,6,110,157],[149,9,110,160,"otherProps"],[150,4,110,171],[150,5,110,172],[150,8,110,175,"props"],[150,13,110,180],[151,4,111,4],[151,10,111,10,"webview"],[151,17,111,17],[151,20,111,20,"React"],[151,25,111,25],[151,26,111,26,"useRef"],[151,32,111,32],[151,33,111,33],[151,37,111,37],[151,38,111,38],[152,4,112,4],[152,10,112,10],[152,11,112,11,"loaded"],[152,17,112,17],[152,19,112,19,"setLoaded"],[152,28,112,28],[152,29,112,29],[152,32,112,32,"React"],[152,37,112,37],[152,38,112,38,"useState"],[152,46,112,46],[152,47,112,47],[152,52,112,52],[152,53,112,53],[153,4,113,4,"React"],[153,9,113,9],[153,10,113,10,"useEffect"],[153,19,113,19],[153,20,113,20],[153,26,113,26],[154,6,114,8],[154,10,114,12,"webview"],[154,17,114,19],[154,18,114,20,"current"],[154,25,114,27],[154,29,114,31,"loaded"],[154,35,114,37],[154,39,114,41,"verify"],[154,45,114,47],[154,47,114,49],[155,8,115,12],[156,8,116,12,"webview"],[156,15,116,19],[156,16,116,20,"current"],[156,23,116,27],[156,24,116,28,"injectJavaScript"],[156,40,116,44],[156,41,116,45],[157,0,117,0],[158,0,118,0],[159,0,119,0],[160,0,120,0],[161,0,121,0],[161,5,121,5],[161,6,121,6],[162,6,122,8],[163,6,123,8],[163,13,123,15],[163,19,123,21],[163,20,123,23],[163,21,123,24],[164,4,124,4],[164,5,124,5],[164,7,124,7],[164,8,124,8,"webview"],[164,15,124,15],[164,17,124,17,"verify"],[164,23,124,23],[164,25,124,25,"loaded"],[164,31,124,31],[164,32,124,32],[164,33,124,33],[165,4,125,4,"validateFirebaseConfig"],[165,26,125,26],[165,27,125,27,"firebaseConfig"],[165,41,125,41],[165,42,125,42],[166,4,126,4],[166,8,126,8],[166,9,126,9,"firebaseConfig"],[166,23,126,23],[166,25,126,25],[167,6,127,8,"console"],[167,13,127,15],[167,14,127,16,"error"],[167,19,127,21],[167,20,127,22],[167,172,127,174],[167,173,127,175],[168,6,128,8],[168,13,128,15],[168,17,128,19],[169,4,129,4],[170,4,130,4],[170,24,130,12,"React"],[170,29,130,17],[170,30,130,18,"createElement"],[170,43,130,31],[170,44,130,32,"WebView"],[170,52,130,39],[170,53,130,39,"WebView"],[170,60,130,39],[170,62,130,41],[171,6,130,43,"ref"],[171,9,130,46],[171,11,130,48,"webview"],[171,18,130,55],[172,6,130,57,"javaScriptEnabled"],[172,23,130,74],[172,25,130,76],[172,29,130,80],[173,6,130,82,"automaticallyAdjustContentInsets"],[173,38,130,114],[173,40,130,116],[173,44,130,120],[174,6,130,122,"scalesPageToFit"],[174,21,130,137],[174,23,130,139],[174,27,130,143],[175,6,130,145,"mixedContentMode"],[175,22,130,161],[175,24,130,163],[175,32,130,171],[176,6,130,173,"source"],[176,12,130,179],[176,14,130,181,"getWebviewSource"],[176,30,130,197],[176,31,130,198,"firebaseConfig"],[176,45,130,212],[176,47,130,214,"firebaseVersion"],[176,62,130,229],[176,64,130,231,"appVerificationDisabledForTesting"],[176,97,130,264],[176,99,130,266,"languageCode"],[176,111,130,278],[176,113,130,280,"invisible"],[176,122,130,289],[176,123,130,290],[177,6,130,292,"onError"],[177,13,130,299],[177,15,130,301,"onError"],[177,22,130,308],[178,6,130,310,"onMessage"],[178,15,130,319],[178,17,130,322,"event"],[178,22,130,327],[178,26,130,332],[179,8,131,12],[179,14,131,18,"data"],[179,18,131,22],[179,21,131,25,"JSON"],[179,25,131,29],[179,26,131,30,"parse"],[179,31,131,35],[179,32,131,36,"event"],[179,37,131,41],[179,38,131,42,"nativeEvent"],[179,49,131,53],[179,50,131,54,"data"],[179,54,131,58],[179,55,131,59],[180,8,132,12],[180,16,132,20,"data"],[180,20,132,24],[180,21,132,25,"type"],[180,25,132,29],[181,10,133,16],[181,15,133,21],[181,21,133,27],[182,12,134,20],[182,16,134,24,"onLoad"],[182,22,134,30],[182,24,134,32],[183,14,135,24,"setLoaded"],[183,23,135,33],[183,24,135,34],[183,28,135,38],[183,29,135,39],[184,14,136,24,"onLoad"],[184,20,136,30],[184,21,136,31],[184,22,136,32],[185,12,137,20],[186,12,138,20],[187,10,139,16],[187,15,139,21],[187,22,139,28],[188,12,140,20],[188,16,140,24,"onError"],[188,23,140,31],[188,25,140,33],[189,14,141,24,"onError"],[189,21,141,31],[189,22,141,32],[189,23,141,33],[190,12,142,20],[191,12,143,20],[192,10,144,16],[192,15,144,21],[192,23,144,29],[193,12,145,20,"onVerify"],[193,20,145,28],[193,21,145,29,"data"],[193,25,145,33],[193,26,145,34,"token"],[193,31,145,39],[193,32,145,40],[194,12,146,20],[195,10,147,16],[195,15,147,21],[195,30,147,36],[196,12,148,20],[196,16,148,24,"onFullChallenge"],[196,31,148,39],[196,33,148,41],[197,14,149,24,"onFullChallenge"],[197,29,149,39],[197,30,149,40],[197,31,149,41],[198,12,150,20],[199,12,151,20],[200,8,152,12],[201,6,153,8],[201,7,153,9],[202,6,153,11],[202,9,153,14,"otherProps"],[203,4,153,25],[203,5,153,26],[203,6,153,27],[204,2,154,0],[205,2,155,0,"FirebaseRecaptcha"],[205,19,155,17],[205,20,155,18,"defaultProps"],[205,32,155,30],[205,35,155,33],[206,4,156,4,"firebaseConfig"],[206,18,156,18],[206,20,156,20,"DEFAULT_WEB_APP_OPTIONS"],[206,37,156,43],[206,38,156,43,"DEFAULT_WEB_APP_OPTIONS"],[207,2,157,0],[207,3,157,1],[208,0,157,2],[208,3]],"functionMap":{"names":["<global>","getWebviewSource","validateFirebaseConfig","FirebaseRecaptcha","React.useEffect$argument_0","<anonymous>","React.createElement$argument_1.onMessage"],"mappings":"AAA;ACI;CD8F;AEC;CFQ;eGC;oBCI;eCU,SD;KDC;iUGM;SHuB;CHC"},"hasCjsExports":false},"type":"js/module"}]}