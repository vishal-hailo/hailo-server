{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@shopify/react-native-skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":61,"index":93}}],"key":"KCGMOdGO2DFiReTrqRRE6eed3dQ=","exportNames":["*"],"imports":1}},{"name":"./PieSlice","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":57,"index":151}}],"key":"MWuLBiLtEgBnR/NUY1C0Iu9LFSc=","exportNames":["*"],"imports":1}},{"name":"./utils/innerRadius","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":152},"end":{"line":4,"column":65,"index":217}}],"key":"qXiBOpVt65WAMPU6YUSGseNCz7g=","exportNames":["*"],"imports":1}},{"name":"./contexts/PieSliceContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":218},"end":{"line":5,"column":62,"index":280}}],"key":"b42RFE/M4lIkVnmdJNyCG6tZZvg=","exportNames":["*"],"imports":1}},{"name":"../polar/contexts/PolarChartContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":281},"end":{"line":6,"column":75,"index":356}}],"key":"C2y8PuTNrmybryPrU0HfVOr7Jng=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/node_modules/victory-native/src/pie/PieChart.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"PieChart\", {\n    enumerable: true,\n    get: function () {\n      return PieChart;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _shopifyReactNativeSkia = require(_dependencyMap[1], \"@shopify/react-native-skia\");\n  var _PieSlice = require(_dependencyMap[2], \"./PieSlice\");\n  var _utilsInnerRadius = require(_dependencyMap[3], \"./utils/innerRadius\");\n  var _contextsPieSliceContext = require(_dependencyMap[4], \"./contexts/PieSliceContext\");\n  var _polarContextsPolarChartContext = require(_dependencyMap[5], \"../polar/contexts/PolarChartContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  var CIRCLE_SWEEP_DEGREES = 360;\n  var PieChart = props => {\n    var _props$innerRadius = props.innerRadius,\n      innerRadius = _props$innerRadius === void 0 ? 0 : _props$innerRadius,\n      _props$circleSweepDeg = props.circleSweepDegrees,\n      circleSweepDegrees = _props$circleSweepDeg === void 0 ? CIRCLE_SWEEP_DEGREES : _props$circleSweepDeg,\n      _props$startAngle = props.startAngle,\n      _startAngle = _props$startAngle === void 0 ? 0 : _props$startAngle,\n      children = props.children,\n      size = props.size;\n    var _usePolarChartContext = (0, _polarContextsPolarChartContext.usePolarChartContext)(),\n      canvasSize = _usePolarChartContext.canvasSize,\n      _data = _usePolarChartContext.data,\n      labelKey = _usePolarChartContext.labelKey,\n      valueKey = _usePolarChartContext.valueKey,\n      colorKey = _usePolarChartContext.colorKey;\n\n    // The sum all the slices' values\n    var totalCircleValue = _data.reduce((sum, entry) => sum + Number(entry[valueKey]), 0);\n    var width = size ?? canvasSize.width; // Get the dynamic canvas size\n    var height = size ?? canvasSize.height; // Get the dynamic canvas size\n\n    // The size of the chart will need to be adjusted if the labels are positioned outside the chart.\n    // ie we need to decrease the Pie Charts radius to account for the labels so the labels don't get cut off.\n    var radius = Math.min(width, height) / 2; // Calculate the radius based on canvas size\n    var center = (0, _shopifyReactNativeSkia.vec)(canvasSize.width / 2, canvasSize.height / 2);\n    var data = React.useMemo(() => {\n      var startAngle = _startAngle; // Initialize the start angle for the first slice\n\n      var enhanced = _data.map(datum => {\n        var sliceValue = datum[valueKey];\n        var sliceLabel = datum[labelKey];\n        var sliceColor = datum[colorKey];\n        var initialStartAngle = startAngle; // grab the initial start angle\n        var sweepAngle = sliceValue / totalCircleValue * circleSweepDegrees; // Calculate the sweep angle for the slice as a part of the entire pie\n        var endAngle = initialStartAngle + sweepAngle; // the sum of sweep + start\n\n        startAngle += sweepAngle; // the next startAngle is the accumulation of each sweep\n        return {\n          value: sliceValue,\n          label: sliceLabel,\n          color: sliceColor,\n          innerRadius: (0, _utilsInnerRadius.handleTranslateInnerRadius)(innerRadius, radius),\n          startAngle: initialStartAngle,\n          endAngle: endAngle,\n          sweepAngle,\n          sliceIsEntireCircle: sweepAngle === CIRCLE_SWEEP_DEGREES || _data.length === 1,\n          radius,\n          center\n        };\n      });\n      return enhanced;\n    }, [valueKey, _data, totalCircleValue, colorKey, labelKey, radius, center, innerRadius, circleSweepDegrees, _startAngle]);\n    return data.map((slice, index) => {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_contextsPieSliceContext.PieSliceProvider, {\n        slice: slice,\n        children: children ? children({\n          slice\n        }) : /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_PieSlice.PieSlice, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 43\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }, this);\n    });\n  };\n});","lineCount":107,"map":[[23,2,18,0,"Object"],[23,8,18,0],[23,9,18,0,"defineProperty"],[23,23,18,0],[23,24,18,0,"exports"],[23,31,18,0],[24,4,18,0,"enumerable"],[24,14,18,0],[25,4,18,0,"get"],[25,7,18,0],[25,18,18,0,"get"],[25,19,18,0],[26,6,18,0],[26,13,18,0,"PieChart"],[26,21,18,0],[27,4,18,0],[28,2,18,0],[29,2,1,0],[29,6,1,0,"_react"],[29,12,1,0],[29,15,1,0,"require"],[29,22,1,0],[29,23,1,0,"_dependencyMap"],[29,37,1,0],[30,2,1,0],[30,6,1,0,"React"],[30,11,1,0],[30,14,1,0,"_interopNamespace"],[30,31,1,0],[30,32,1,0,"_react"],[30,38,1,0],[31,2,2,0],[31,6,2,0,"_shopifyReactNativeSkia"],[31,29,2,0],[31,32,2,0,"require"],[31,39,2,0],[31,40,2,0,"_dependencyMap"],[31,54,2,0],[32,2,3,0],[32,6,3,0,"_PieSlice"],[32,15,3,0],[32,18,3,0,"require"],[32,25,3,0],[32,26,3,0,"_dependencyMap"],[32,40,3,0],[33,2,4,0],[33,6,4,0,"_utilsInnerRadius"],[33,23,4,0],[33,26,4,0,"require"],[33,33,4,0],[33,34,4,0,"_dependencyMap"],[33,48,4,0],[34,2,5,0],[34,6,5,0,"_contextsPieSliceContext"],[34,30,5,0],[34,33,5,0,"require"],[34,40,5,0],[34,41,5,0,"_dependencyMap"],[34,55,5,0],[35,2,6,0],[35,6,6,0,"_polarContextsPolarChartContext"],[35,37,6,0],[35,40,6,0,"require"],[35,47,6,0],[35,48,6,0,"_dependencyMap"],[35,62,6,0],[36,2,6,75],[36,6,6,75,"_reactJsxDevRuntime"],[36,25,6,75],[36,28,6,75,"require"],[36,35,6,75],[36,36,6,75,"_dependencyMap"],[36,50,6,75],[37,2,8,0],[37,6,8,6,"CIRCLE_SWEEP_DEGREES"],[37,26,8,26],[37,29,8,29],[37,32,8,32],[38,2,18,7],[38,6,18,13,"PieChart"],[38,14,18,21],[38,17,18,25,"props"],[38,22,18,45],[38,26,18,50],[39,4,19,2],[39,8,19,2,"_props$innerRadius"],[39,26,19,2],[39,29,25,6,"props"],[39,34,25,11],[39,35,20,4,"innerRadius"],[39,46,20,15],[40,6,20,4,"innerRadius"],[40,17,20,15],[40,20,20,15,"_props$innerRadius"],[40,38,20,15],[40,52,20,18],[40,53,20,19],[40,56,20,19,"_props$innerRadius"],[40,74,20,19],[41,6,20,19,"_props$circleSweepDeg"],[41,27,20,19],[41,30,25,6,"props"],[41,35,25,11],[41,36,21,4,"circleSweepDegrees"],[41,54,21,22],[42,6,21,4,"circleSweepDegrees"],[42,24,21,22],[42,27,21,22,"_props$circleSweepDeg"],[42,48,21,22],[42,62,21,25,"CIRCLE_SWEEP_DEGREES"],[42,82,21,45],[42,85,21,45,"_props$circleSweepDeg"],[42,106,21,45],[43,6,21,45,"_props$startAngle"],[43,23,21,45],[43,26,25,6,"props"],[43,31,25,11],[43,32,22,4,"startAngle"],[43,42,22,14],[44,6,22,16,"_startAngle"],[44,17,22,27],[44,20,22,27,"_props$startAngle"],[44,37,22,27],[44,51,22,30],[44,52,22,31],[44,55,22,31,"_props$startAngle"],[44,72,22,31],[45,6,23,4,"children"],[45,14,23,12],[45,17,25,6,"props"],[45,22,25,11],[45,23,23,4,"children"],[45,31,23,12],[46,6,24,4,"size"],[46,10,24,8],[46,13,25,6,"props"],[46,18,25,11],[46,19,24,4,"size"],[46,23,24,8],[47,4,26,2],[47,8,26,2,"_usePolarChartContext"],[47,29,26,2],[47,32,32,6],[47,36,32,6,"usePolarChartContext"],[47,67,32,26],[47,68,32,26,"usePolarChartContext"],[47,88,32,26],[47,90,32,27],[47,91,32,28],[48,6,27,4,"canvasSize"],[48,16,27,14],[48,19,27,14,"_usePolarChartContext"],[48,40,27,14],[48,41,27,4,"canvasSize"],[48,51,27,14],[49,6,28,10,"_data"],[49,11,28,15],[49,14,28,15,"_usePolarChartContext"],[49,35,28,15],[49,36,28,4,"data"],[49,40,28,8],[50,6,29,4,"labelKey"],[50,14,29,12],[50,17,29,12,"_usePolarChartContext"],[50,38,29,12],[50,39,29,4,"labelKey"],[50,47,29,12],[51,6,30,4,"valueKey"],[51,14,30,12],[51,17,30,12,"_usePolarChartContext"],[51,38,30,12],[51,39,30,4,"valueKey"],[51,47,30,12],[52,6,31,4,"colorKey"],[52,14,31,12],[52,17,31,12,"_usePolarChartContext"],[52,38,31,12],[52,39,31,4,"colorKey"],[52,47,31,12],[54,4,34,2],[55,4,35,2],[55,8,35,8,"totalCircleValue"],[55,24,35,24],[55,27,35,27,"_data"],[55,32,35,32],[55,33,35,33,"reduce"],[55,39,35,39],[55,40,36,4],[55,41,36,5,"sum"],[55,44,36,8],[55,46,36,10,"entry"],[55,51,36,15],[55,56,36,20,"sum"],[55,59,36,23],[55,62,36,26,"Number"],[55,68,36,32],[55,69,36,33,"entry"],[55,74,36,38],[55,75,36,39,"valueKey"],[55,83,36,47],[55,84,36,48],[55,85,36,49],[55,87,37,4],[55,88,38,2],[55,89,38,3],[56,4,40,2],[56,8,40,8,"width"],[56,13,40,13],[56,16,40,16,"size"],[56,20,40,20],[56,24,40,24,"canvasSize"],[56,34,40,34],[56,35,40,35,"width"],[56,40,40,40],[56,41,40,41],[56,42,40,42],[57,4,41,2],[57,8,41,8,"height"],[57,14,41,14],[57,17,41,17,"size"],[57,21,41,21],[57,25,41,25,"canvasSize"],[57,35,41,35],[57,36,41,36,"height"],[57,42,41,42],[57,43,41,43],[57,44,41,44],[59,4,43,2],[60,4,44,2],[61,4,45,2],[61,8,45,8,"radius"],[61,14,45,14],[61,17,45,17,"Math"],[61,21,45,21],[61,22,45,22,"min"],[61,25,45,25],[61,26,45,26,"width"],[61,31,45,31],[61,33,45,33,"height"],[61,39,45,39],[61,40,45,40],[61,43,45,43],[61,44,45,44],[61,45,45,45],[61,46,45,46],[62,4,46,2],[62,8,46,8,"center"],[62,14,46,14],[62,17,46,17],[62,21,46,17,"vec"],[62,44,46,20],[62,45,46,20,"vec"],[62,48,46,20],[62,50,46,21,"canvasSize"],[62,60,46,31],[62,61,46,32,"width"],[62,66,46,37],[62,69,46,40],[62,70,46,41],[62,72,46,43,"canvasSize"],[62,82,46,53],[62,83,46,54,"height"],[62,89,46,60],[62,92,46,63],[62,93,46,64],[62,94,46,65],[63,4,48,2],[63,8,48,8,"data"],[63,12,48,12],[63,15,48,15,"React"],[63,20,48,20],[63,21,48,21,"useMemo"],[63,28,48,28],[63,29,48,29],[63,35,48,35],[64,6,49,4],[64,10,49,8,"startAngle"],[64,20,49,18],[64,23,49,21,"_startAngle"],[64,34,49,32],[64,35,49,33],[64,36,49,34],[66,6,51,4],[66,10,51,10,"enhanced"],[66,18,51,18],[66,21,51,21,"_data"],[66,26,51,26],[66,27,51,27,"map"],[66,30,51,30],[66,31,51,32,"datum"],[66,36,51,37],[66,40,51,56],[67,8,52,6],[67,12,52,12,"sliceValue"],[67,22,52,22],[67,25,52,25,"datum"],[67,30,52,30],[67,31,52,31,"valueKey"],[67,39,52,39],[67,40,52,50],[68,8,53,6],[68,12,53,12,"sliceLabel"],[68,22,53,22],[68,25,53,25,"datum"],[68,30,53,30],[68,31,53,31,"labelKey"],[68,39,53,39],[68,40,53,50],[69,8,54,6],[69,12,54,12,"sliceColor"],[69,22,54,22],[69,25,54,25,"datum"],[69,30,54,30],[69,31,54,31,"colorKey"],[69,39,54,39],[69,40,54,49],[70,8,56,6],[70,12,56,12,"initialStartAngle"],[70,29,56,29],[70,32,56,32,"startAngle"],[70,42,56,42],[70,43,56,43],[70,44,56,44],[71,8,57,6],[71,12,57,12,"sweepAngle"],[71,22,57,22],[71,25,57,26,"sliceValue"],[71,35,57,36],[71,38,57,39,"totalCircleValue"],[71,54,57,55],[71,57,57,59,"circleSweepDegrees"],[71,75,57,77],[71,76,57,78],[71,77,57,79],[72,8,58,6],[72,12,58,12,"endAngle"],[72,20,58,20],[72,23,58,23,"initialStartAngle"],[72,40,58,40],[72,43,58,43,"sweepAngle"],[72,53,58,53],[72,54,58,54],[72,55,58,55],[74,8,60,6,"startAngle"],[74,18,60,16],[74,22,60,20,"sweepAngle"],[74,32,60,30],[74,33,60,31],[74,34,60,32],[75,8,61,6],[75,15,61,13],[76,10,62,8,"value"],[76,15,62,13],[76,17,62,15,"sliceValue"],[76,27,62,25],[77,10,63,8,"label"],[77,15,63,13],[77,17,63,15,"sliceLabel"],[77,27,63,25],[78,10,64,8,"color"],[78,15,64,13],[78,17,64,15,"sliceColor"],[78,27,64,25],[79,10,65,8,"innerRadius"],[79,21,65,19],[79,23,65,21],[79,27,65,21,"handleTranslateInnerRadius"],[79,44,65,47],[79,45,65,47,"handleTranslateInnerRadius"],[79,71,65,47],[79,73,65,48,"innerRadius"],[79,84,65,59],[79,86,65,61,"radius"],[79,92,65,67],[79,93,65,68],[80,10,66,8,"startAngle"],[80,20,66,18],[80,22,66,20,"initialStartAngle"],[80,39,66,37],[81,10,67,8,"endAngle"],[81,18,67,16],[81,20,67,18,"endAngle"],[81,28,67,26],[82,10,68,8,"sweepAngle"],[82,20,68,18],[83,10,69,8,"sliceIsEntireCircle"],[83,29,69,27],[83,31,70,10,"sweepAngle"],[83,41,70,20],[83,46,70,25,"CIRCLE_SWEEP_DEGREES"],[83,66,70,45],[83,70,70,49,"_data"],[83,75,70,54],[83,76,70,55,"length"],[83,82,70,61],[83,87,70,66],[83,88,70,67],[84,10,71,8,"radius"],[84,16,71,14],[85,10,72,8,"center"],[86,8,73,6],[86,9,73,7],[87,6,74,4],[87,7,74,5],[87,8,74,6],[88,6,76,4],[88,13,76,11,"enhanced"],[88,21,76,19],[89,4,77,2],[89,5,77,3],[89,7,77,5],[89,8,78,4,"valueKey"],[89,16,78,12],[89,18,79,4,"_data"],[89,23,79,9],[89,25,80,4,"totalCircleValue"],[89,41,80,20],[89,43,81,4,"colorKey"],[89,51,81,12],[89,53,82,4,"labelKey"],[89,61,82,12],[89,63,83,4,"radius"],[89,69,83,10],[89,71,84,4,"center"],[89,77,84,10],[89,79,85,4,"innerRadius"],[89,90,85,15],[89,92,86,4,"circleSweepDegrees"],[89,110,86,22],[89,112,87,4,"_startAngle"],[89,123,87,15],[89,124,88,3],[89,125,88,4],[90,4,90,2],[90,11,90,9,"data"],[90,15,90,13],[90,16,90,14,"map"],[90,19,90,17],[90,20,90,18],[90,21,90,19,"slice"],[90,26,90,24],[90,28,90,26,"index"],[90,33,90,31],[90,38,90,36],[91,6,91,4],[91,26,92,6],[91,30,92,6,"_reactJsxDevRuntime"],[91,49,92,6],[91,50,92,6,"jsxDEV"],[91,56,92,6],[91,58,92,7,"_contextsPieSliceContext"],[91,82,92,23],[91,83,92,23,"PieSliceProvider"],[91,99,92,23],[92,8,92,36,"slice"],[92,13,92,41],[92,15,92,43,"slice"],[92,20,92,49],[93,8,92,49,"children"],[93,16,92,49],[93,18,93,9,"children"],[93,26,93,17],[93,29,93,20,"children"],[93,37,93,28],[93,38,93,29],[94,10,93,31,"slice"],[95,8,93,37],[95,9,93,38],[95,10,93,39],[95,26,93,42],[95,30,93,42,"_reactJsxDevRuntime"],[95,49,93,42],[95,50,93,42,"jsxDEV"],[95,56,93,42],[95,58,93,43,"_PieSlice"],[95,67,93,51],[95,68,93,51,"PieSlice"],[95,76,93,51],[96,10,93,51,"fileName"],[96,18,93,51],[96,20,93,51,"_jsxFileName"],[96,32,93,51],[97,10,93,51,"lineNumber"],[97,20,93,51],[98,10,93,51,"columnNumber"],[98,22,93,51],[99,8,93,51],[99,15,93,53],[100,6,93,54],[100,9,92,29,"index"],[100,14,92,34],[101,8,92,34,"fileName"],[101,16,92,34],[101,18,92,34,"_jsxFileName"],[101,30,92,34],[102,8,92,34,"lineNumber"],[102,18,92,34],[103,8,92,34,"columnNumber"],[103,20,92,34],[104,6,92,34],[104,13,94,24],[104,14,94,25],[105,4,96,2],[105,5,96,3],[105,6,96,4],[106,2,97,0],[106,3,97,1],[107,0,97,2],[107,3]],"functionMap":{"names":["<global>","PieChart","_data.reduce$argument_0","React.useMemo$argument_0","_data.map$argument_0","data.map$argument_0"],"mappings":"AAA;wBCiB;ICkB,6CD;6BEY;+BCG;KDuB;GFG;kBIa;GJM;CDC"},"hasCjsExports":false},"type":"js/module"}]}